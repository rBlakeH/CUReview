<!-- Including Header Partial-->
<%- include ../layouts/header.ejs %>

<!-- Using if-check to see if an error occurred and displaying appropriate message-->
<% if (messages.error) { %>
    <p style="color:red"><%- messages.error %></p>
<% } %>
<% if (messages.success) { %>
    <p style="color:blue"><%- messages.success %></p>
<% } %>

<script type="text/javascript">
    var err = <%- JSON.stringify(messages) %>
        console.log(err)
</script>

<table border="0" width='60%'>
    <tr style='text-align:left; background-color:#CCC'>
        <th>Class Number</th>
        <th>Class Name</th>
        <th>Up Votes</th>
        <th>Down Votes</th>
    </tr>

    <script>
                      var i = 0;
                      function buttonClickIncrement() {
                        document.getElementById('inc').value = ++i;
                      }
                    </script>

    <% if (data) { %>
    <!-- Using a for-loop to loop over each row in the database. The 'data' variable is passed from the store.js during the response.render function call -->
        <% data.forEach(function(item){ %>
            <tr>
                <td><%= item.classnumber %></td>
                <td><%= item.classname %></td>
                <td><%= item.upvotes %>
                <button class="btn btn-success round" onclick="buttonClickIncrement()">Up</button>
                      <input type="text" style="border:none ; width:25px" id="inc" value="0"></input>
                </td>
                <td><%= item.downvotes %></td>
            </tr>
        <% }) %>
    <% } %>
</table>

<!-- Bootstrap core JavaScript-->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

<!--Including Footer Partial-->
<%- include ../layouts/footer.ejs %>



